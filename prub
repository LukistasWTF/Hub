local Fsys = require(game.ReplicatedStorage:WaitForChild("Fsys")).load
local RouterClient = Fsys("RouterClient")

local function attemptPurchase(category, itemId)
    local args = {category, itemId, {}}
    local success, result = pcall(function()
        return RouterClient.get("ShopAPI/BuyItem"):InvokeServer(unpack(args))
    end)
    
    if success then
        if result == "too little money" then
            print(string.format("No tienes suficiente dinero para comprar %s (ID: %s), pero se puede comprar.", category, itemId))
        elseif result == "not for sale" then
            print(string.format("El ítem %s (ID: %s) no está a la venta.", category, itemId))
        else
            print(string.format("Intento de compra de %s (ID: %s) resultó: %s", category, itemId, result))
        end
    else
        print(string.format("Error al intentar comprar %s (ID: %s): %s", category, itemId, tostring(result)))
    end
end

-- Llamar a la función para intentar comprar el ítem
attemptPurchase("pet_accessories", "pink_heart_glasses")
